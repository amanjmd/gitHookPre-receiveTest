if [ -f "pushed" ];  then
rm pushed
exit 1
else
touch pushed
git push
fi
excludeExisting="--not --all"
zero_commit="0000000000000000000000000000000000000000"

#$new_commits = `git rev-list $oldrev..$newrev`
#echo $new_commits
while read oldrev newrev refname; do
echo $oldrev
echo "new rev"
echo $newrev
# branch or tag get deleted
  if [ "$newrev" = "$zero_commit" ]; then
    continue
  fi



if [ "$oldrev" = "$zero_commit" ]; then

    span=`git rev-list $newrev $excludeExisting`
  else
    span=`git rev-list $oldrev..$newrev $excludeExisting`
  fi

 for COMMIT in $span;
 do
    for FILE  in `git log -1 --name-only --pretty=format:'' $COMMIT`;
    do
        echo $FILE
        exit 1
    done
  done
done
